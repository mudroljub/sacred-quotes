(this.webpackJsonpsvetemysli=this.webpackJsonpsvetemysli||[]).push([[3,4],{62:function(e,t,a){e.exports=a.p+"static/media/preloader.8c6459b9.svg"},64:function(e,t,a){"use strict";var n=a(30),l=a(4),r=a(8),c=a(0),u=a.n(c),i=a(16),m=a(7),o=a(2),s=a(1),E=a(31),d=a(15);t.a=function(e){var t=e.quote,a=Object(o.c)((function(e){return e})).token,b=Object(o.b)(),f=Object(s.t)(),p=Object(i.f)(),O=Object(c.useState)(""),h=Object(r.a)(O,2),j=h[0],S=h[1],_=Object(c.useState)(""),v=Object(r.a)(_,2),T=v[0],R=v[1];return u.a.createElement("div",null,u.a.createElement("h1",null,f(t?"EDIT_QUOTE":"ADD_QUOTE"),t&&t._id&&u.a.createElement("small",null,u.a.createElement("sup",null,"(",u.a.createElement(m.b,{to:"/citat/".concat(t._id)},"show"),")"))),u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),S("");var t=Object.values(e.target.elements).filter((function(e){return e.name})).reduce((function(e,t){return Object(l.a)({},e,Object(n.a)({},t.name,t.value.trim()))}),{});if(!t.author||!t.sr)return S(f("REQUIRED_FIELDS"));var r=t._id?d.a.update:d.a.create,c=t._id?"PUT":"POST";fetch(r,{method:c,headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(l.a)({},t,{token:a}))}).then((function(e){return e.json()})).then((function(e){if("SUCCESS_SAVED"===e.message){var a=t._id?s.r:s.a;b(a(e.quote)),p.push("/citat/".concat(e.quote._id))}})).catch((function(e){R(f("NETWORK_PROBLEM"))}))}},u.a.createElement("input",{type:"hidden",name:"_id",defaultValue:t&&t._id}),u.a.createElement("p",null,u.a.createElement("label",{htmlFor:"author",title:f("AUTHOR_TIP")},f("AUTHOR")," *"),u.a.createElement("br",null),u.a.createElement("input",{name:"author",id:"author",defaultValue:t&&t.author,autoFocus:!0})),u.a.createElement("p",null,u.a.createElement("label",{htmlFor:"sr"},"Tekst (",f("SERBOCROATIAN"),") *"),u.a.createElement("br",null),u.a.createElement("textarea",{name:"sr",id:"sr",defaultValue:t&&t.sr,cols:"60",rows:"5"})),u.a.createElement("p",null,u.a.createElement("label",{htmlFor:"ms"},"Tekst (",f("INTERSLAVIC"),") "),u.a.createElement("br",null),u.a.createElement("textarea",{name:"ms",id:"ms",defaultValue:t&&t.ms,cols:"60",rows:"5"})),u.a.createElement("p",null,u.a.createElement("label",{htmlFor:"source"},f("SOURCE")," "),u.a.createElement("br",null),u.a.createElement("input",{name:"source",id:"source",defaultValue:t&&t.source})),u.a.createElement("p",null,u.a.createElement("label",{htmlFor:"tags"},f("TAGS")," "),u.a.createElement("br",null),u.a.createElement("input",{name:"tags",id:"tags",defaultValue:t&&t.tags})),u.a.createElement("p",null,u.a.createElement("label",{htmlFor:"wiki"},"Wiki "),u.a.createElement("br",null),u.a.createElement("input",{name:"wiki",id:"wiki",defaultValue:t&&t.wiki})),j&&u.a.createElement("p",{className:"red"},j),u.a.createElement("button",{type:"submit"},f("POST"))),T&&u.a.createElement(E.a,{message:T,closePopup:function(){return R("")}}))}},65:function(e,t,a){"use strict";a.r(t);var n=a(8),l=a(0),r=a.n(l),c=a(2),u=a(1),i=a(64),m=a(62),o=a.n(m),s=a(15);t.default=function(e){var t=e.match.params.id,a=Object(c.c)((function(e){return e})),m=a.admin,E=a.allQuotes,d=Object(u.t)(),b=Object(l.useState)(!1),f=Object(n.a)(b,2),p=f[0],O=f[1],h=Object(l.useState)(E.find((function(e){return e._id===t}))),j=Object(n.a)(h,2),S=j[0],_=j[1];return Object(l.useEffect)((function(){S&&S.id===t||(O(!0),fetch("".concat(s.a.read,"/id/").concat(t)).then((function(e){return e.json()})).then((function(e){O(!1),_(e)})))}),[t,S]),p?r.a.createElement("img",{src:o.a,alt:"loading..."}):m?r.a.createElement(i.a,{quote:S}):r.a.createElement("p",null,d("ADMIN_REQUIRED"))}},67:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(2),c=a(1),u=a(64);a(65);t.default=function(){var e=Object(r.c)((function(e){return e})).admin,t=Object(c.t)();return e?l.a.createElement(u.a,null):l.a.createElement("p",null,t("ADMIN_REQUIRED"))}}}]);
//# sourceMappingURL=3.35493376.chunk.js.map