{"version":3,"sources":["assets/images/unknown.jpg","assets/images/chakra.svg","components/header/twitter.png","components/header/youtube.png","components/header/facebook.png","utils/helpers.js","store/initialState.js","store/index.js","store/reducer.js","utils/transliterate.js","store/actions.js","components/header/Header.jsx","components/sidebar/Filters.jsx","components/sidebar/AuthorThumb.jsx","components/sidebar/Sidebar.jsx","routes/Tools.jsx","components/main/AuthorImage.jsx","components/main/Quote.jsx","components/main/ImageQuote.jsx","routes/RandomQuote.jsx","components/main/Pagination.jsx","components/main/Quotes.jsx","routes/AllQuotes.jsx","components/main/AuthorInfo.jsx","routes/Author.jsx","components/main/MessagePopup.jsx","components/main/EditForm.jsx","routes/EditQuote.jsx","routes/AddQuote.jsx","routes/ShowQuote.jsx","components/Router.js","components/header/Footer.jsx","components/App.jsx","index.js"],"names":["module","exports","includes","text","phrase","t","toLowerCase","p","replace","isInText","isInSource","source","smoothscroll","y","document","documentElement","scrollTop","body","top","getElementById","scrollHeight","window","requestAnimationFrame","scrollTo","compare","a","b","get","obj","lev1","lev2","getName","name","lang","authors","getImg","author","getDerived","quotes","filter","q","sortAbc","allAuthors","Set","filteredQuotes","filteredAuthors","minLength","length","maxLength","forEach","add","push","sort","storage","localStorage","getItem","JSON","parse","script","minLimit","maxLimit","showFilters","showSidebar","allQuotes","arr","copy","i","j","Math","floor","random","shuffle","derived","selectedAuthors","authorPhrase","sourcePhrase","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","state","initialState","action","quote","filterQ","size","has","type","updatedQuotes","map","_id","shouldAdd","value","delete","applyMiddleware","thunk","subscribe","setItem","stringify","getState","shSpecific","msSpecific","toCyrillic","transliterate","addQuote","updateQuote","saveQuote","dispatch","largest","createId","useTranslate","useSelector","key","translations","useTransliterate","useAuthorName","Header","useDispatch","translate","id","className","to","activeClassName","exact","htmlFor","onChange","e","setLang","target","setScript","Filters","placeholder","setPhrase","setAuthorPhrase","style","textAlign","onClick","setShowFilters","cursor","setSourcePhrase","min","max","setMinLimit","setMaxLimit","AuthorThumb","image","authorName","link","src","unknownImage","alt","checked","toggleSelectedAuthors","Sidebar","useState","Map","thumbnails","setThumbnails","getAuthorThumbs","withImg","x","withoutImg","fetch","join","then","res","json","query","pages","mapa","thumbnail","set","title","useEffect","authorThumbs","setShowSidebar","role","aria-label","Tools","content","fileName","contentType","createElement","file","Blob","href","URL","createObjectURL","download","click","clear","imgWidth","innerWidth","AuthorImage","showImage","loaded","setLoaded","chakra","setSrc","nextSrc","getSize","unknown","catch","opacity","transition","onLoad","width","Quote","showSource","cssClass","shouldDelete","setShouldDelete","quoteTxt","translitPhrase","authorLink","deleteCss","percent","gridClass","fontSize","undefined","dangerouslySetInnerHTML","__html","deleteQuote","wiki","rel","ImageQuote","RandomQuote","setQuote","Pagination","totalPages","page","setPage","turnThePage","Number","button","high","pagination","disabled","range","quotesPerPage","Quotes","hideImage","ceil","startPosition","jsxQuotes","splice","display","marginBottom","AllQuotes","prepareInfo","info","wikiUrl","encodeURIComponent","AuthorInfo","setInfo","isCancelled","response","findValue","object","searchKey","Author","match","params","filtered","message","closePopup","EditForm","history","useHistory","validation","setValidation","setMessage","onSubmit","async","preventDefault","data","Object","values","elements","el","reduce","acc","trim","sr","defaultValue","autoFocus","cols","rows","ms","MessagePopup","EditQuote","find","AddQuote","ShowQuote","Router","path","component","Footer","marginRight","verticalAlign","youtube","twitter","facebook","App","navigator","serviceWorker","register","render"],"mappings":"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","file":"static/js/main.ca690d20.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/chakra.f14f6d94.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGUSURBVDiNpZO/a1RBFIW/O2/WhbxEAyJaGcGAiI2FIGhhCsFfhdXukiJVxNJOCzux00YL/4AtJOpCiCI2C6aOhGAhiIpgYxuE5D13N/PesdgX2Q1vddEDA8PlfmfOHWZMEv8jP06TtZIjEXZNopJrp63Gga8A9nRzv/FGVb+VPAgW31aN3l640tq+INkKMF2UukhNnB3P0LzzW9vnBLcipW9tKTm810C5NQdggCpmNxEWya66IH0vWs9HEev+eXrDWp2jAPascwxjZsRk30I9bpok/IukDVwcmhs+CTaA+fKLseuhNvHK72slp4EKoD5X5IET9FepMtx7gCJB+gU0O6q5RJuhHh8EcP24+aLB5/F5W93dOYAwNbkmrA10x6B7mbK7Qwa6QlfkH4HqX8+GR2pM/U7rdjdZffKJMzuD8foP9Hqw9P5gyQPYyo9p34tOCVsAu1zKisfB4juqxUOv1SpL6dnc5feASyXcT7ANxMPQmHhZblz8RlvuzPgsO5mjWcP1HHq3cyj+oDnCyJEGDf5VvwCmpZgonjpXdwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAWQAAAFkBqp2phgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADHSURBVDiNxdMtTgNREMDx33tBApKtwqwlmCYV1SRwj56hx+kVeosuSSXBrqnqWkBAzWC6CeKVLF3BJP+MmK/MV4oIYySPisYFSOkWd7guAG8FXkXsBI/BVxB/5DN4EKzPCO5ZZ0yKzdX1kBFMMqqiablks2E6/S1BdToBzOdst6xWVEW3m7FrzBndSXPTMJuxWNAV3TpBU5xwXQ/ZwnPGvli9bYe0sO8P6XDGDRyCpxQRpFTjHlc/uDxqeMfHUfe8iGjTv3/jNy6Ep9IgbWhqAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAH5AAAB+QG6M2UCAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAFpQTFRF////AAD/PFeaO1mZOliZPFqXOliYO1mYO1mYO1mYO1mYPFqYQV6bS2egX3irYXmsYXqseI24f5O8pLLPrbnUsLzVsb3WvsjdyNHi2uDs5ury6e307fD2////fuc4wgAAAAp0Uk5TAAEmcH+As7Xm9myQZpsAAAB4SURBVBgZBcFBcsMwDAQwcKXaM/n/T9tLnIgsUJBV0XMaReUqME+PUtcCcJ7ZspDXrr+PlZNccN2rClf2KojnFyprB/edyQwmgb3tF8gG7/XzeTdIw/c474HOAACdMwAwnX4A4OlFQr7n4HwVlavAPD0Ksip6TuMf/242KcwFiN8AAAAASUVORK5CYII=\"","import authors from '../data/authors.json'\r\n\r\nexport function findValue(object, searchKey) {\r\n  let value\r\n  for (const key in object) {\r\n    if (key === searchKey) return object[key]\r\n    if (typeof object[key] === 'object') value = findValue(object[key], searchKey)\r\n  }\r\n  return value\r\n}\r\n\r\nexport const includes = (text, phrase) => {\r\n  if (!text) return false\r\n  const t = text.toLowerCase(), p = phrase.toLowerCase()\r\n  return t.includes(p) || t.replace(/ě/g, 'e').replace(/y/g, 'i').includes(p)\r\n}\r\n\r\nexport const isInText = (text, phrase) => phrase ? includes(text, phrase) : true\r\n\r\nexport const isInSource = (source, phrase) => {\r\n  if (!phrase) return true\r\n  if (phrase === ' ') return !source\r\n  return includes(source, phrase)\r\n}\r\n\r\nexport function smoothscroll() {\r\n  const y = document.documentElement.scrollTop || document.body.scrollTop\r\n  const top = document.getElementById('header').scrollHeight\r\n  if (y > top) {\r\n    window.requestAnimationFrame(smoothscroll)\r\n    window.scrollTo (top, y - (y / 5))\r\n  }\r\n}\r\n\r\nexport function compare(a, b) {\r\n  if (a < b) return -1\r\n  if (a > b) return 1\r\n  return 0\r\n}\r\n\r\nexport function shuffle(arr) {\r\n  const copy = [...arr]\r\n  for (let i = copy.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [copy[i], copy[j]] = [copy[j], copy[i]]\r\n  }\r\n  return copy\r\n}\r\n\r\nexport const createId = arr => {\r\n  let largest = arr[0]._id\r\n  for(let i = 1; i < arr.length; i++)\r\n    if(largest < arr[i]._id)\r\n      largest = arr[i]._id\r\n\r\n  return largest + 1\r\n}\r\n\r\n// get value from nested object\r\nexport const get = (obj, lev1, lev2) => ((obj || {})[lev1] || {})[lev2]\r\n\r\nexport const getName = (name, lang) => get(authors, name, 'common') || get(authors, name, lang) || name\r\n\r\nexport const getSize = (src = '', size) => src.replace(/\\d+px/, `${size}px`)\r\n\r\nexport const getImg = author => get(authors, author, 'src')\r\n\r\n/**\r\n@param authors: arr\r\n@return Map(author name: image src)\r\n*/\r\nexport function getThumbnails(authors) {\r\n  return fetch(`https://sh.wikipedia.org/w/api.php?action=query&titles=${authors.join('|')}&prop=pageimages&format=json&pithumbsize=50&origin=*`)\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      if (!res.query.pages) return\r\n      const mapa = new Map()\r\n      for (const key in res.query.pages) {\r\n        const obj = res.query.pages[key]\r\n        if (!obj.thumbnail) continue\r\n        mapa.set(obj.title, obj.thumbnail.source)\r\n      }\r\n      return mapa\r\n    })\r\n}\r\n\r\nexport const getDerived = (quotes, lang, filter = q => q[lang]) => {\r\n  const sortAbc = (a, b) => compare(getName(a, lang), getName(b, lang))\r\n\r\n  const allAuthors = new Set()\r\n  const filteredQuotes = []\r\n  const filteredAuthors = new Set()\r\n  let minLength = quotes[0][lang].length\r\n  let maxLength = quotes[0][lang].length\r\n\r\n  quotes.forEach(q => {\r\n    allAuthors.add(q.author)\r\n    const {length} = q[lang]\r\n    if (!length) return\r\n    if (length < minLength) minLength = length\r\n    if (length > maxLength) maxLength = length\r\n    if (filter(q)) {\r\n      filteredQuotes.push(q)\r\n      filteredAuthors.add(q.author)\r\n    }\r\n  })\r\n  return {\r\n    minLength,\r\n    maxLength,\r\n    filteredQuotes,\r\n    allAuthors: new Set([...allAuthors].sort(sortAbc)),\r\n    filteredAuthors: [...filteredAuthors].sort(sortAbc)\r\n  }\r\n}\r\n\r\nexport function download(content, fileName, contentType) {\r\n  const a = document.createElement('a')\r\n  const file = new Blob([content], {type: contentType})\r\n  a.href = URL.createObjectURL(file)\r\n  a.download = fileName\r\n  a.click()\r\n}\r\n","import quotes from '../data/quotes.json'\r\nimport {shuffle, getDerived} from '../utils/helpers'\r\n\r\nconst storage = localStorage.getItem('sveteMisli')\r\n  ? JSON.parse(localStorage.getItem('sveteMisli'))\r\n  : {}\r\n\r\nconst {script, minLimit, maxLimit, showFilters, showSidebar} = storage\r\nconst allQuotes = shuffle(storage.allQuotes || quotes)\r\nconst lang = storage.lang || 'ms'\r\n\r\nconst filter = q =>\r\n  q[lang]\r\n  && q[lang].length >= minLimit && q[lang].length <= maxLimit\r\n\r\nconst derived = (minLimit && maxLimit)\r\n  ? getDerived(allQuotes, lang, filter)\r\n  : getDerived(allQuotes, lang)\r\n\r\nconst {minLength, maxLength, allAuthors, filteredQuotes, filteredAuthors} = derived\r\n\r\nexport default {\r\n  allQuotes,\r\n  allAuthors,\r\n  filteredQuotes,\r\n  filteredAuthors,\r\n  minLength,\r\n  maxLength,\r\n  lang,\r\n  script: script || 'kir',\r\n  showFilters,\r\n  showSidebar,\r\n  minLimit: minLimit || minLength,\r\n  maxLimit: maxLimit || maxLength,\r\n  selectedAuthors: new Set(),\r\n  phrase: '',\r\n  authorPhrase: '',\r\n  sourcePhrase: '',\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport {reducer} from './reducer'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n)\r\n\r\nstore.subscribe(() => {\r\n  localStorage.setItem('sveteMisli', JSON.stringify(store.getState()))\r\n})\r\n\r\nexport { store }\r\n","import {includes, getDerived, getName, isInText, isInSource} from '../utils/helpers'\r\nimport initialState from './initialState'\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n  const {allQuotes, allAuthors, selectedAuthors, lang, phrase, authorPhrase, sourcePhrase, minLimit, maxLimit} = state\r\n  const {quote} = action\r\n\r\n  const filterQ = q =>\r\n    q[lang]\r\n    && isInText(q[lang], phrase)\r\n    && isInSource(q.source, sourcePhrase)\r\n    && (selectedAuthors.size ? selectedAuthors.has(q.author) : true)\r\n    && q[lang].length >= minLimit && q[lang].length <= maxLimit\r\n\r\n  switch (action.type) {\r\n    case 'INIT': {\r\n      const {minLength, maxLength, filteredQuotes, filteredAuthors} = getDerived(allQuotes, lang, filterQ)\r\n      return {\r\n        ...state,\r\n        filteredQuotes,\r\n        filteredAuthors,\r\n        minLength,\r\n        maxLength,\r\n        minLimit: minLimit >= minLength ? minLimit : minLength,\r\n        maxLimit: maxLimit <= maxLength ? maxLimit : maxLength,\r\n      }\r\n    }\r\n    case 'FILTER_QUOTES':\r\n      return {\r\n        ...state,\r\n        filteredQuotes: allQuotes.filter(filterQ)\r\n      }\r\n    case 'SET_LANGUAGE':\r\n      return {...state, lang: action.lang}\r\n    case 'SET_SCRIPT':\r\n      return {...state, script: action.script }\r\n    case 'SET_PHRASE':\r\n      return {...state, phrase: action.phrase }\r\n    case 'SET_AUTHOR_PHRASE':\r\n      return {...state, authorPhrase: action.authorPhrase }\r\n    case 'SET_SOURCE_PHRASE':\r\n      return {...state, sourcePhrase: action.sourcePhrase }\r\n    case 'SET_MIN_LIMIT':\r\n      return {...state, minLimit: action.minLimit }\r\n    case 'SET_MAX_LIMIT':\r\n      return {...state, maxLimit: action.maxLimit }\r\n    case 'SET_SHOW_SIDEBAR':\r\n      return {...state, showSidebar: action.showSidebar }\r\n    case 'SET_SHOW_FILTERS':\r\n      return {...state, showFilters: action.showFilters }\r\n    case 'ADD_QUOTE': {\r\n      const updatedQuotes = [...allQuotes, quote]\r\n      return {\r\n        ...state,\r\n        allQuotes: updatedQuotes,\r\n        filteredQuotes: updatedQuotes.filter(filterQ),\r\n        allAuthors: allAuthors.add(quote.author)\r\n      }\r\n    }\r\n    case 'UPDATE_QUOTE': {\r\n      const updatedQuotes = allQuotes.map(q => q._id === quote._id ? quote : q)\r\n      return {\r\n        ...state,\r\n        allQuotes: updatedQuotes,\r\n        filteredQuotes: updatedQuotes.filter(filterQ)\r\n      }\r\n    }\r\n    case 'DELETE_QUOTE': {\r\n      const updatedQuotes = allQuotes.filter(q => q._id !== action._id)\r\n      return {\r\n        ...state,\r\n        allQuotes: updatedQuotes,\r\n        filteredQuotes: updatedQuotes.filter(filterQ)\r\n      }\r\n    }\r\n    case 'FILTER_AUTHORS': {\r\n      const filteredAuthors = [...allAuthors]\r\n        .filter(name => includes(name, authorPhrase) || includes(getName(name, lang), authorPhrase))\r\n      return {\r\n        ...state,\r\n        filteredAuthors\r\n      }\r\n    }\r\n    case 'TOGGLE_SELECTED_AUTHORS': {\r\n      const {shouldAdd, value} = action\r\n      const authors = new Set([...selectedAuthors])\r\n      if (shouldAdd) authors.add(value)\r\n      else authors.delete(value)\r\n      return {\r\n        ...state,\r\n        selectedAuthors: authors\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const shSpecific = text => text\r\n  .replace(/lj/g, 'љ')\r\n  .replace(/Lj/g, 'Љ')\r\n  .replace(/LJ/g, 'Љ')\r\n  .replace(/nj/g, 'њ')\r\n  .replace(/Nj/g, 'Њ')\r\n  .replace(/NJ/g, 'Њ')\r\n  .replace(/dž/g, 'џ')\r\n  .replace(/Dž/g, 'Џ')\r\n  .replace(/DŽ/g, 'Џ')\r\n\r\nconst msSpecific = text => text\r\n  .replace(/lj/g, 'ль')\r\n  .replace(/Lj/g, 'Ль')\r\n  .replace(/LJ/g, 'Ль')\r\n  .replace(/nj/g, 'нь')\r\n  .replace(/Nj/g, 'Нь')\r\n  .replace(/NJ/g, 'Нь')\r\n\r\nconst toCyrillic = text => text\r\n  .replace(/a/g, 'а')\r\n  .replace(/b/g, 'б')\r\n  .replace(/c/g, 'ц')\r\n  .replace(/č/g, 'ч')\r\n  .replace(/ć/g, 'ћ')\r\n  .replace(/d/g, 'д')\r\n  .replace(/đ/g, 'ђ')\r\n  .replace(/e/g, 'е')\r\n  .replace(/ě/g, 'ѣ')\r\n  .replace(/f/g, 'ф')\r\n  .replace(/g/g, 'г')\r\n  .replace(/h/g, 'х')\r\n  .replace(/i/g, 'и')\r\n  .replace(/y/g, 'ы')\r\n  .replace(/j/g, 'ј')\r\n  .replace(/k/g, 'к')\r\n  .replace(/l/g, 'л')\r\n  .replace(/m/g, 'м')\r\n  .replace(/n/g, 'н')\r\n  .replace(/o/g, 'о')\r\n  .replace(/p/g, 'п')\r\n  .replace(/r/g, 'р')\r\n  .replace(/s/g, 'с')\r\n  .replace(/ś/g, 'сь')\r\n  .replace(/š/g, 'ш')\r\n  .replace(/t/g, 'т')\r\n  .replace(/u/g, 'у')\r\n  .replace(/v/g, 'в')\r\n  .replace(/z/g, 'з')\r\n  .replace(/ź/g, 'зь')\r\n  .replace(/ž/g, 'ж')\r\n\r\n  .replace(/A/g, 'А')\r\n  .replace(/B/g, 'Б')\r\n  .replace(/C/g, 'Ц')\r\n  .replace(/Č/g, 'Ч')\r\n  .replace(/Ć/g, 'Ћ')\r\n  .replace(/D/g, 'Д')\r\n  .replace(/Đ/g, 'Ђ')\r\n  .replace(/E/g, 'Е')\r\n  .replace(/Ě/g, 'Ѣ')\r\n  .replace(/F/g, 'Ф')\r\n  .replace(/G/g, 'Г')\r\n  .replace(/H/g, 'Х')\r\n  .replace(/I/g, 'И')\r\n  .replace(/Y/g, 'Ы')\r\n  .replace(/J/g, 'Ј')\r\n  .replace(/K/g, 'К')\r\n  .replace(/L/g, 'Л')\r\n  .replace(/M/g, 'М')\r\n  .replace(/N/g, 'Н')\r\n  .replace(/O/g, 'О')\r\n  .replace(/P/g, 'П')\r\n  .replace(/R/g, 'Р')\r\n  .replace(/S/g, 'С')\r\n  .replace(/Ś/g, 'Сь')\r\n  .replace(/Š/g, 'Ш')\r\n  .replace(/T/g, 'Т')\r\n  .replace(/U/g, 'У')\r\n  .replace(/V/g, 'В')\r\n  .replace(/Z/g, 'З')\r\n  .replace(/Ź/g, 'Зь')\r\n  .replace(/Ž/g, 'Ж')\r\n\r\nexport default function transliterate(text, script, lang) {\r\n  return script === 'lat'\r\n    ? text\r\n    : toCyrillic(lang === 'sr' ? shSpecific(text) : msSpecific(text))\r\n}\r\n","import { useSelector } from 'react-redux'\r\n\r\nimport translations from '../data/translations'\r\nimport {getName, createId} from '../utils/helpers'\r\nimport transliterate from '../utils/transliterate'\r\n\r\nexport const init = () => ({type: 'INIT'})\r\n\r\nexport const setLang = lang => ({ type: 'SET_LANGUAGE', lang })\r\n\r\nexport const setScript = script => ({ type: 'SET_SCRIPT', script })\r\n\r\nexport const addQuote = quote => ({type: 'ADD_QUOTE', quote})\r\n\r\nexport const updateQuote = quote => ({type: 'UPDATE_QUOTE', quote})\r\n\r\nexport const deleteQuote = _id => ({type: 'DELETE_QUOTE', _id})\r\n\r\nexport const filterAuthors = () => ({type: 'FILTER_AUTHORS'})\r\n\r\nexport const filterQuotes = () => ({type: 'FILTER_QUOTES'})\r\n\r\nexport const toggleSelectedAuthors = (shouldAdd, value) => ({type: 'TOGGLE_SELECTED_AUTHORS', shouldAdd, value})\r\n\r\nexport const setPhrase = phrase => ({type: 'SET_PHRASE', phrase})\r\n\r\nexport const setAuthorPhrase = authorPhrase => ({type: 'SET_AUTHOR_PHRASE', authorPhrase})\r\n\r\nexport const setSourcePhrase = sourcePhrase => ({type: 'SET_SOURCE_PHRASE', sourcePhrase})\r\n\r\nexport const setMinLimit = minLimit => ({type: 'SET_MIN_LIMIT', minLimit})\r\n\r\nexport const setMaxLimit = maxLimit => ({type: 'SET_MAX_LIMIT', maxLimit})\r\n\r\nexport const setShowFilters = showFilters => ({type: 'SET_SHOW_FILTERS', showFilters})\r\n\r\nexport const setShowSidebar = showSidebar => ({type: 'SET_SHOW_SIDEBAR', showSidebar})\r\n\r\nexport const saveQuote = quote => (dispatch, getState) => {\r\n  const action = quote._id ? updateQuote : addQuote\r\n  if (!quote._id) quote._id = createId(getState().allQuotes)\r\n  dispatch(action(quote))\r\n  return quote._id\r\n}\r\n\r\n/* SELECTORS */\r\n\r\nexport const useTranslate = () => {\r\n  const {lang, script} = useSelector(state => state)\r\n  return key => (translations[lang][key])\r\n    ? transliterate(translations[lang][key], script, lang)\r\n    : key\r\n}\r\n\r\nexport const useTransliterate = () => {\r\n  const {lang, script} = useSelector(state => state)\r\n  return text => transliterate(text, script, lang)\r\n}\r\n\r\nexport const useAuthorName = () => {\r\n  const { script, lang } = useSelector(state => state)\r\n  return author => {\r\n    const name = getName(author, lang)\r\n    return transliterate(name, script, lang)\r\n  }\r\n}","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport {setLang, setScript, useTranslate, init} from '../../store/actions'\r\nimport './header.css'\r\n\r\nconst Header = () => {\r\n  const {lang, script} = useSelector(state => state)\r\n  const dispatch = useDispatch()\r\n  const translate = useTranslate()\r\n\r\n  const changeLang = e => {\r\n    dispatch(setLang(e.target.value))\r\n    dispatch(init())\r\n  }\r\n\r\n  const changeScript = e => {\r\n    dispatch(setScript(e.target.value))\r\n  }\r\n\r\n  return (\r\n    <header id=\"header\">\r\n      <div className='header-info'>\r\n        <h3>{translate('APP_NAME')} ❁</h3> <small className='info-text'>{translate('HEADER_TEXT')}</small>\r\n      </div>\r\n\r\n      <nav>\r\n        <NavLink to=\"/\" replace={true} activeClassName=\"active\" exact>{translate('QUOTE_OF_THE_DAY')}</NavLink>\r\n        <NavLink to=\"/citati\" activeClassName=\"active\">{translate('ALL_QUOTES')}</NavLink>\r\n        <NavLink to=\"/dodaj-citat\" activeClassName=\"active\">{translate('ADD_QUOTE')}</NavLink>\r\n        <NavLink to=\"/moj-profil\" activeClassName=\"active\">{translate('TOOLS')}</NavLink>\r\n      </nav>\r\n\r\n      <div className=\"header-lang\">\r\n        <label htmlFor=\"jezyk\">{translate('LANGUAGE')}: </label>\r\n        <select id=\"jezyk\" onChange={changeLang} value={lang}>\r\n          <option value=\"ms\">{translate('INTERSLAVIC')}</option>\r\n          <option value=\"sr\">{translate('SERBOCROATIAN')}</option>\r\n        </select>\r\n        <label htmlFor=\"pismo\">{translate('SCRIPT')}: </label>\r\n        <select id=\"pismo\" onChange={changeScript} value={script}>\r\n          <option value=\"kir\">кирилица</option>\r\n          <option value=\"lat\">latinica</option>\r\n        </select>\r\n      </div>\r\n    </header>\r\n  )}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { filterQuotes, filterAuthors, useTranslate, setPhrase, setAuthorPhrase, setSourcePhrase, setMinLimit, setMaxLimit, setShowFilters } from '../../store/actions'\r\n\r\nconst Filters = () => {\r\n  const { phrase, authorPhrase, sourcePhrase, minLength, maxLength, minLimit, maxLimit, showFilters } = useSelector(state => state)\r\n  const translate = useTranslate()\r\n  const dispatch = useDispatch()\r\n\r\n  const changePhrase = e => {\r\n    dispatch(setPhrase(e.target.value))\r\n    dispatch(filterQuotes())\r\n  }\r\n\r\n  const changeAuthorPhrase = e => {\r\n    dispatch(setAuthorPhrase(e.target.value))\r\n    dispatch(filterAuthors())\r\n  }\r\n\r\n  const changeSourcePhrase = e => {\r\n    dispatch(setSourcePhrase(e.target.value))\r\n    dispatch(filterQuotes())\r\n  }\r\n\r\n  const toggleMoreFilters = () => {\r\n    dispatch(setShowFilters(!showFilters))\r\n  }\r\n\r\n  const changeMinLimit = e => {\r\n    dispatch(setMinLimit(e.target.value))\r\n    dispatch(filterQuotes())\r\n  }\r\n\r\n  const changeMaxLimit = e => {\r\n    dispatch(setMaxLimit(e.target.value))\r\n    dispatch(filterQuotes())\r\n  }\r\n\r\n  return (\r\n    <div className=\"filters\">\r\n      <h3><label htmlFor=\"izreke\">{translate('SEARCH_QUOTES')}</label></h3>\r\n      <input id=\"izreke\" value={phrase} placeholder=\"latin input\" onChange={changePhrase} />\r\n\r\n      <h3><label htmlFor=\"avtori\">{translate('SEARCH_AUTHORS')}</label></h3>\r\n      <input id=\"avtori\" value={authorPhrase} onChange={changeAuthorPhrase} />\r\n\r\n      <div style={{textAlign: 'right'}} >\r\n        <span onClick={toggleMoreFilters} style={{cursor: 'pointer'}}>⚙</span>\r\n      </div>\r\n      {showFilters &&\r\n        <div>\r\n          <h3><label htmlFor=\"izvori\">{translate('FILTER_BY_SOURCE')}</label></h3>\r\n          <input id=\"izvori\"\r\n            value={sourcePhrase}\r\n            onChange={changeSourcePhrase}\r\n          />\r\n\r\n          <h3>{translate('FILTER_BY_LENGTH')}</h3>\r\n          <div>\r\n            <label htmlFor=\"min\">Min ({minLimit})</label>\r\n            <input\r\n              id=\"min\"\r\n              type=\"range\"\r\n              min={minLength}\r\n              max={maxLength}\r\n              value={minLimit}\r\n              onChange={changeMinLimit}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"max\">Max ({maxLimit})</label>\r\n            <input\r\n              id=\"max\"\r\n              type=\"range\"\r\n              min={minLength}\r\n              max={maxLength}\r\n              value={maxLimit}\r\n              onChange={changeMaxLimit}\r\n            />\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filters","import React from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport {useAuthorName, filterQuotes, toggleSelectedAuthors} from '../../store/actions'\r\nimport unknownImage from '../../assets/images/unknown.jpg'\r\nimport './author-thumb.css'\r\n\r\nconst AuthorThumb = ({ author, image }) => {\r\n  const dispatch = useDispatch()\r\n  const authorName = useAuthorName()\r\n  const {selectedAuthors} = useSelector(state => state)\r\n  const link = `/avtor/${author.replace(/ /g, '_')}`\r\n\r\n  const handleCheck = ({target}) => {\r\n    const {checked, value} = target\r\n    dispatch(toggleSelectedAuthors(checked, value))\r\n    dispatch(filterQuotes())\r\n  }\r\n\r\n  return (\r\n    <div className=\"author-wrap\">\r\n      <Link className=\"author\" to={link}>\r\n        <img src={image || unknownImage} alt=\"img\" />\r\n        {authorName(author)}\r\n      </Link>\r\n      <label>\r\n        <input\r\n          type=\"checkbox\"\r\n          value={author}\r\n          checked={selectedAuthors.has(author)}\r\n          onChange={handleCheck}\r\n        />\r\n      </label>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AuthorThumb\r\n","import React, {useState, useEffect} from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport Filters from './Filters'\r\nimport AuthorThumb from './AuthorThumb'\r\nimport {getThumbnails, getImg} from '../../utils/helpers'\r\nimport { setShowSidebar } from '../../store/actions'\r\n\r\nimport './sidebar.css'\r\n\r\nconst Sidebar = () => {\r\n  const {allAuthors, filteredAuthors, showSidebar} = useSelector(state => state)\r\n  const [thumbnails, setThumbnails] = useState(new Map())\r\n  const dispatch = useDispatch()\r\n\r\n  const getAuthorThumbs = allAuthors => {\r\n    const withImg = [...allAuthors].filter(x => !getImg(x))\r\n    const withoutImg = [...allAuthors].filter(x => getImg(x))\r\n    getThumbnails(withImg)\r\n      .then(mapa => {\r\n        withoutImg.forEach(name => {\r\n          mapa.set(name, getImg(name))\r\n        })\r\n        setThumbnails(mapa)\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (showSidebar && allAuthors.size) getAuthorThumbs(allAuthors)\r\n  }, [allAuthors, showSidebar])\r\n\r\n  const toggle = () => {\r\n    dispatch(setShowSidebar(!showSidebar))\r\n  }\r\n\r\n  const authorThumbs = filteredAuthors.map(author =>\r\n    <AuthorThumb\r\n      key={author}\r\n      author={author}\r\n      image={thumbnails.get(author)}\r\n    />\r\n  )\r\n\r\n  return (\r\n    <aside className=\"sidebar\">\r\n      <button onClick={toggle} className=\"no-button toggle-button\">\r\n        <span role=\"img\" aria-label=\"search\" className=\"search-icon\">&#x1F50D;</span>\r\n      </button>\r\n      {showSidebar &&\r\n        <div className=\"sidebar-inner\">\r\n          <Filters/>\r\n          <div className=\"authors\">\r\n            {authorThumbs}\r\n          </div>\r\n        </div>\r\n      }\r\n    </aside>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n","import React from 'react'\r\nimport {useSelector} from 'react-redux'\r\n\r\nimport {useTranslate} from '../store/actions'\r\nimport {download} from '../utils/helpers'\r\n\r\nconst Tools = () => {\r\n  const translate = useTranslate()\r\n  const {allQuotes} = useSelector(state => state)\r\n\r\n  const saveFile = () => {\r\n    download(JSON.stringify(allQuotes), 'citati.json', 'text/plain')\r\n  }\r\n\r\n  const deleteStorage = () => {\r\n    localStorage.clear()\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      <h1>{translate('TOOLS')}</h1>\r\n      <p>\r\n        <button onClick={saveFile}>Export quotes</button>\r\n      </p>\r\n      <p>\r\n        <button onClick={deleteStorage}>Delete local storage</button>\r\n      </p>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Tools\r\n","import React, {useState, useEffect} from 'react'\r\n\r\nimport {getImg, getSize} from '../../utils/helpers'\r\nimport chakra from '../../assets/images/chakra.svg'\r\nimport unknown from '../../assets/images/unknown.jpg'\r\n\r\nconst mdMin = 800\r\nconst imgWidth = window.innerWidth < mdMin ? window.innerWidth : 250\r\n\r\nconst AuthorImage = ({author, showImage}) => {\r\n  const [loaded, setLoaded] = useState(true)\r\n  const [src, setSrc] = useState(showImage ? null : chakra)\r\n\r\n  useEffect(() => {\r\n    if (!showImage) return\r\n\r\n    const nextSrc = getSize(getImg(author), imgWidth)\r\n    if (nextSrc === src) return // same image, do nothing\r\n\r\n    setLoaded(false)\r\n    if (nextSrc) { // use nextSrc\r\n      setSrc(nextSrc)\r\n      return\r\n    }\r\n    // ask api for src\r\n    fetch(`https://sh.wikipedia.org/w/api.php?action=query&titles=${author}&prop=pageimages&format=json&pithumbsize=${imgWidth}&origin=*`)\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        if (!res.query.pages) return\r\n        for (const key in res.query.pages) {\r\n          const obj = res.query.pages[key]\r\n          if (obj.thumbnail) return setSrc(obj.thumbnail.source)\r\n        }\r\n        if (!src) setSrc(unknown)\r\n      })\r\n      .catch(() => {\r\n        setSrc(unknown)\r\n        setLoaded(true) // istu sliku ne ucitava opet, pa ostaje false\r\n      })\r\n  }, [author, showImage, src])\r\n\r\n  return (\r\n    <img\r\n      src={src}\r\n      style={{opacity: +loaded, transition: 'opacity .4s' }}\r\n      onLoad={() => setLoaded(true)}\r\n      alt={showImage ? author : 'cvět'}\r\n      width={imgWidth}\r\n    />\r\n  )\r\n}\r\n\r\nexport default AuthorImage\r\n","import React, {useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\n\r\nimport {deleteQuote, useTranslate, useTransliterate, useAuthorName} from '../../store/actions'\r\nimport './quote.css'\r\n\r\nconst Quote = ({ quote, showSource, cssClass }) => {\r\n  const {lang, phrase, minLength, maxLength} = useSelector(state => state)\r\n  const dispatch = useDispatch()\r\n  const translate = useTranslate()\r\n  const transliterate = useTransliterate()\r\n  const getName = useAuthorName()\r\n  const [shouldDelete, setShouldDelete] = useState(false)\r\n\r\n  const quoteTxt = transliterate(quote[lang])\r\n  const translitPhrase = transliterate(phrase)\r\n  const text = phrase\r\n    ? quoteTxt.replace(translitPhrase, `<span class='red'>${translitPhrase}</span>`)\r\n    : quoteTxt\r\n\r\n  const {_id, author} = quote\r\n  const authorLink = `/avtor/${author.replace(/ /g, '_')}`\r\n  const deleteCss = `pointer ${shouldDelete ? 'red' : ''}`\r\n\r\n  const doDelete = () => {\r\n    dispatch(deleteQuote(_id))\r\n    setShouldDelete(false)\r\n  }\r\n\r\n  const tryDelete = () => {\r\n    if (shouldDelete) doDelete()\r\n    setShouldDelete(true)\r\n  }\r\n\r\n  const percent = (quoteTxt.length - minLength) / (maxLength - minLength)\r\n\r\n  let gridClass = ''\r\n  let fontSize = undefined\r\n\r\n  if (!cssClass) {\r\n    if (percent > .6) gridClass = 'uspravan'\r\n    if (percent < 0.1) fontSize = '1.4em'\r\n  }\r\n\r\n  return (\r\n    <blockquote className={cssClass || `small-quote ${gridClass}`}>\r\n      <p\r\n        className=\"quote-text\"\r\n        style={{fontSize}}\r\n        dangerouslySetInnerHTML={{__html: text || translate('NO_TRANSLATION')}}\r\n      >\r\n      </p>\r\n      <span className=\"icons\">\r\n        <Link to={`/citat/${_id}`} className=\"no-link\">↠</Link>&nbsp;\r\n        <span>\r\n          <Link to={`/pravi-citat/${_id}`}><span className=\"edit-icon\">&#9998;</span></Link>&nbsp;\r\n          <span onClick={tryDelete} className={deleteCss}>&#10005;</span>\r\n        </span>\r\n      </span>\r\n      <span className=\"quote-author\"> — <Link to={authorLink}>{getName(author)}</Link></span>\r\n\r\n      {showSource && quote.source &&\r\n        <p className=\"more-info\">\r\n          <small>{translate('SOURCE')}:</small>{' '}<small className=\"source-value\">{quote.source}</small>{' '}\r\n          {quote.wiki &&\r\n            <small><a href={quote.wiki} target=\"_blank\" rel=\"noopener noreferrer\">(wiki)</a></small>\r\n          }\r\n        </p>\r\n      }\r\n    </blockquote>\r\n  )\r\n}\r\n\r\nexport default Quote\r\n","import React from 'react'\r\n\r\nimport AuthorImage from './AuthorImage'\r\nimport Quote from './Quote'\r\n\r\nconst ImageQuote = ({quote, showSource}) => {\r\n  if (!quote) return null\r\n  return (\r\n    <div className=\"quote-box\">\r\n      <AuthorImage author={quote.author} />\r\n      <Quote quote={quote} showSource={showSource} cssClass=\"big-quote\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImageQuote","import React, { useState } from 'react'\r\nimport {useSelector} from 'react-redux'\r\n\r\nimport ImageQuote from './../components/main/ImageQuote'\r\nimport {useTranslate} from '../store/actions'\r\nimport {smoothscroll} from '../utils/helpers'\r\n\r\nlet i = 0\r\n\r\nconst RandomQuote = () => {\r\n  const {filteredQuotes} = useSelector(state => state)\r\n  const translate = useTranslate()\r\n  const [quote, setQuote] = useState(filteredQuotes[i])\r\n\r\n  const next = () => {\r\n    setQuote(filteredQuotes[++i % filteredQuotes.length])\r\n    smoothscroll()\r\n  }\r\n\r\n  const prev = () => {\r\n    if (i - 1 < 0) return\r\n    setQuote(filteredQuotes[--i])\r\n    smoothscroll()\r\n  }\r\n\r\n  if (!quote) return null\r\n\r\n  return (\r\n    <main>\r\n      <h1>{translate('QUOTE_OF_THE_DAY')}</h1>\r\n      <ImageQuote quote={quote} cssClass=\"big-quote\" />\r\n      {i > 0 && <button onClick={prev}>←</button>}\r\n      <button onClick={next}>{translate('MORE_WISDOM')}</button>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default RandomQuote\r\n","import React from 'react'\r\n\r\nexport default function Pagination({totalPages, page, setPage}) {\r\n  if (page >= totalPages) setPage(0)\r\n\r\n  const turnThePage = e => {\r\n    setPage(Number(e.target.value))\r\n  }\r\n\r\n  const prev = () => {\r\n    if (page <= 0) return\r\n    setPage(page - 1)\r\n  }\r\n\r\n  const next = () => {\r\n    if (page >= totalPages - 1) return\r\n    setPage(page + 1)\r\n  }\r\n\r\n  const button = i => (\r\n    <button value={i} className={page === i ? 'red' : ''} onClick={turnThePage} key={i}>\r\n      {i + 1}\r\n    </button>\r\n  )\r\n\r\n  const range = 3\r\n  const low = page > range ? page - range : 1\r\n  const high = page < totalPages - range ? page + range : totalPages - 1\r\n  const pagination = []\r\n  for (let i = low; i < high; i++) pagination.push(button(i))\r\n\r\n  return (\r\n    <p>\r\n      <button onClick={prev} disabled={page === 0} >‹</button>\r\n      {button(0)}\r\n      {page > range + 1 && <span>...</span>}\r\n      {pagination}\r\n      {page < totalPages - range - 1 && <span>...</span>}\r\n      {button(totalPages - 1)}\r\n      <button disabled={page === totalPages - 1} onClick={next}>›</button>\r\n    </p>\r\n  )\r\n}\r\n","import React, {useState} from 'react'\r\nimport {useSelector} from 'react-redux'\r\n\r\nimport Quote from './Quote'\r\nimport Pagionation from './Pagination'\r\nimport {useTranslate, useTransliterate} from '../../store/actions'\r\nimport {smoothscroll} from '../../utils/helpers'\r\nimport chakra from '../../assets/images/chakra.svg'\r\nimport './quotes.css'\r\n\r\nconst quotesPerPage = 15\r\n\r\nexport default function Quotes({quotes, hideImage}) {\r\n  const {phrase} = useSelector(state => state)\r\n  const translate = useTranslate()\r\n  const transliterate = useTransliterate()\r\n  const [page, setPage] = useState(0)\r\n\r\n  const image = <img\r\n    src={chakra}\r\n    alt=\"cvět\"\r\n    key=\"cvět\"\r\n    width=\"250\"\r\n  />\r\n\r\n  const addImgTo = arr => {\r\n    arr.splice(Math.floor(quotesPerPage / 2), 0, image)\r\n  }\r\n\r\n  const setPageAndScroll = x => {\r\n    setPage(x)\r\n    smoothscroll()\r\n  }\r\n\r\n  const totalPages = Math.ceil(quotes.length / quotesPerPage)\r\n  const startPosition = page * quotesPerPage\r\n\r\n  const jsxQuotes = quotes\r\n    .filter((q, i) => i >= startPosition && i < startPosition + quotesPerPage)\r\n    .map(q => <Quote key={q._id} quote={q} />)\r\n\r\n  if (!hideImage) addImgTo(jsxQuotes)\r\n\r\n  return (\r\n    <div>\r\n      {phrase && <small style={{ display: 'block', marginBottom: '10px'}}>{translate('SHOWING_RESULTS')} \"{transliterate(phrase)}\":</small>}\r\n      <div className='citati'>\r\n        {jsxQuotes}\r\n      </div>\r\n      {totalPages > 1 && (\r\n        <Pagionation totalPages={totalPages} page={page} setPage={setPageAndScroll} />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {useSelector} from 'react-redux'\r\n\r\nimport {useTranslate} from '../store/actions'\r\nimport Quotes from '../components/main/Quotes'\r\n\r\nconst AllQuotes = () => {\r\n  const {filteredQuotes} = useSelector(state => state)\r\n  const translate = useTranslate()\r\n\r\n  return (\r\n    <main>\r\n      <h1>{translate('ALL_QUOTES')}</h1>\r\n      <Quotes quotes={filteredQuotes} />\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default AllQuotes\r\n","import React, {useState, useEffect} from 'react'\r\nimport {findValue} from '../../utils/helpers'\r\n\r\nconst prepareInfo = (author, info) => {\r\n  if (!info) return ''\r\n  const wikiUrl = `https://sh.wikipedia.org/wiki/${encodeURIComponent(author)}`\r\n  return `${info} <a href=${wikiUrl} target=\"_blank\">Wikipedia</a>`\r\n}\r\n\r\nexport default function AuthorInfo({ author }) {\r\n  const [info, setInfo] = useState('')\r\n\r\n  // https://stackoverflow.com/questions/56442582\r\n  useEffect(() => {\r\n    let isCancelled = false\r\n    setInfo('')\r\n    fetch(`https://sh.wikipedia.org/w/api.php?action=query&titles=${encodeURIComponent(author)}&prop=extracts&format=json&origin=*&redirects=1&exsentences=2&exintro=1`)\r\n      .then(response => response.json())\r\n      .then(obj => {\r\n        const info = findValue(obj, 'extract')\r\n        if (!isCancelled) setInfo(prepareInfo(author, info))\r\n      })\r\n\r\n    return () => {\r\n      isCancelled = true\r\n    }\r\n  }, [author])\r\n\r\n  return (\r\n    <small dangerouslySetInnerHTML={{__html: info}}></small>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {useSelector} from 'react-redux'\r\n\r\nimport Quotes from '../components/main/Quotes'\r\nimport AuthorImage from '../components/main/AuthorImage'\r\nimport AuthorInfo from '../components/main/AuthorInfo'\r\nimport {useAuthorName} from '../store/actions'\r\nimport {isInText, isInSource} from '../utils/helpers'\r\n\r\nconst Author = ({match}) => {\r\n  const {allQuotes, lang, phrase, sourcePhrase} = useSelector(state => state)\r\n  const getName = useAuthorName()\r\n\r\n  const author = match.params.name.replace(/_/g, ' ')\r\n\r\n  const filtered = allQuotes.filter(q =>\r\n    q[lang]\r\n    && isInText(q[lang], phrase)\r\n    && isInSource(q.source, sourcePhrase)\r\n    && q.author === author\r\n  )\r\n\r\n  return (\r\n    <main>\r\n      <h1>{getName(author)}</h1>\r\n      <div className=\"author-info\">\r\n        <h3 className=\"hide-sm\">{getName(author)}</h3>\r\n        <AuthorImage author={author} showImage={true} />\r\n        <AuthorInfo author={author} />\r\n      </div>\r\n      <Quotes quotes={filtered} hideImage />\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Author\r\n","import React from 'react'\r\nimport './message-popup.css'\r\n\r\nexport default ({ message, closePopup }) => (\r\n  <div>\r\n    <div className=\"white_content\">\r\n      <h3>{message}</h3>\r\n      <button onClick={closePopup}>Close</button>\r\n    </div>\r\n    <div  className=\"black_overlay\" onClick={closePopup} ></div>\r\n  </div>\r\n)\r\n","import React, {useState} from 'react'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport {useDispatch} from 'react-redux'\r\n\r\nimport {useTranslate, saveQuote} from '../../store/actions'\r\nimport MessagePopup from './MessagePopup'\r\n\r\nconst EditForm = ({ quote }) => {\r\n  const dispatch = useDispatch()\r\n  const translate = useTranslate()\r\n  const history = useHistory()\r\n\r\n  const [validation, setValidation] = useState('')\r\n  const [message, setMessage] = useState('')\r\n\r\n  const postQuote = async e => {\r\n    e.preventDefault()\r\n    setValidation('')\r\n    const data = Object.values(e.target.elements)\r\n      .filter(el => el.name)\r\n      .reduce((acc, el) => ({...acc, [el.name]: el.value.trim()}), {})\r\n\r\n    if (!data.author || !data.sr) return setValidation(translate('REQUIRED_FIELDS'))\r\n\r\n    if (data._id) data._id = Number(data._id)\r\n    const id = dispatch(saveQuote(data))\r\n    history.push(`/citat/${id}`)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>\r\n        {translate(quote ? 'EDIT_QUOTE' : 'ADD_QUOTE')}\r\n        {quote && quote._id && <small><sup>(<Link to={`/citat/${quote._id}`}>show</Link>)</sup></small>}\r\n      </h1>\r\n\r\n      <form onSubmit={postQuote}>\r\n        <input type=\"hidden\" name=\"_id\" defaultValue={quote && quote._id} />\r\n        <p>\r\n          <label htmlFor=\"author\" title={translate('AUTHOR_TIP')}>{translate('AUTHOR')} *</label><br/>\r\n          <input name=\"author\" id=\"author\" defaultValue={quote && quote.author} autoFocus />\r\n        </p>\r\n        <p>\r\n          <label htmlFor=\"sr\" >Tekst ({translate('SERBOCROATIAN')}) *</label><br />\r\n          <textarea name=\"sr\" id=\"sr\" defaultValue={quote && quote.sr} cols=\"60\" rows=\"5\"></textarea>\r\n        </p>\r\n        <p>\r\n          <label htmlFor=\"ms\" >Tekst ({translate('INTERSLAVIC')}) </label><br />\r\n          <textarea name=\"ms\" id=\"ms\" defaultValue={quote && quote.ms} cols=\"60\" rows=\"5\"></textarea>\r\n        </p>\r\n        <p>\r\n          <label htmlFor=\"source\">{translate('SOURCE')} </label><br/>\r\n          <input name='source' id='source' defaultValue={quote && quote.source} />\r\n        </p>\r\n        <p>\r\n          <label htmlFor=\"wiki\">Wiki </label><br/>\r\n          <input name='wiki' id='wiki' defaultValue={quote && quote.wiki} />\r\n        </p>\r\n        {validation && <p className=\"red\">{validation}</p>}\r\n        <button type=\"submit\">{translate('POST')}</button>\r\n      </form>\r\n\r\n      {message && <MessagePopup message={message} closePopup={() => setMessage('')} />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditForm","import React from 'react'\r\nimport {useSelector} from 'react-redux'\r\n\r\nimport EditForm from '../components/main/EditForm'\r\n\r\nconst EditQuote = ({ match }) => {\r\n  const { id } = match.params\r\n  const {allQuotes} = useSelector(state => state)\r\n\r\n  const quote = allQuotes.find(q => q._id === Number(id))\r\n\r\n  return <EditForm quote={quote} />\r\n}\r\n\r\nexport default EditQuote\r\n","import React from 'react'\r\n\r\nimport EditForm from '../components/main/EditForm'\r\n\r\nconst AddQuote = () => <EditForm />\r\n\r\nexport default AddQuote\r\n","import React from 'react'\r\nimport {useSelector} from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport ImageQuote from './../components/main/ImageQuote'\r\nimport {useTranslate} from '../store/actions'\r\n\r\nconst ShowQuote = ({match}) => {\r\n  const {id} = match.params\r\n  const {allQuotes} = useSelector(state => state)\r\n  const quote = allQuotes.find(q => q._id === Number(id))\r\n  const translate = useTranslate()\r\n\r\n  return (\r\n    <main>\r\n      <ImageQuote quote={quote} showSource={true} cssClass=\"big-quote\" />\r\n      <Link to=\"/\" replace>{translate('BACK')}</Link>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default ShowQuote\r\n","import React from 'react'\r\nimport {Switch, Route} from 'react-router-dom'\r\n\r\nimport Tools from '../routes/Tools'\r\nimport RandomQuote from '../routes/RandomQuote'\r\nimport AllQuotes from '../routes/AllQuotes'\r\nimport Author from '../routes/Author'\r\nimport EditQuote from '../routes/EditQuote'\r\nimport AddQuote from '../routes/AddQuote'\r\nimport ShowQuote from '../routes/ShowQuote'\r\n\r\nconst Router = () => (\r\n  <Switch>\r\n    <Route path='/' exact component={RandomQuote} />\r\n    <Route path='/citati' component={AllQuotes} />\r\n    <Route path='/citat/:id' component={ShowQuote} />\r\n    <Route path='/avtor/:name' component={Author} />\r\n    <Route path='/dodaj-citat' component={AddQuote} />\r\n    <Route path='/pravi-citat/:id' component={EditQuote} />\r\n    <Route path='/moj-profil' component={Tools} />\r\n  </Switch>\r\n)\r\n\r\nexport default Router\r\n","import React from 'react'\r\n\r\nimport {useTranslate} from '../../store/actions'\r\nimport twitter from './twitter.png'\r\nimport youtube from './youtube.png'\r\nimport facebook from './facebook.png'\r\n\r\nexport default function Footer() {\r\n  const translate = useTranslate()\r\n\r\n  return (\r\n    <footer>\r\n      <small>\r\n        <a style={{ marginRight: '8px', verticalAlign: 'middle' }} href=\"https://www.youtube.com/channel/UCdj34UyN5y60nIc_Bybr-Gg\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"Svete misli Youtube\">\r\n          <img src={youtube} alt=\"youtube\" />\r\n        </a>\r\n        <a style={{ marginRight: '8px', verticalAlign: 'middle' }} href=\"https://twitter.com/svetemysli\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"Svete misli Twitter\">\r\n          <img src={twitter} alt=\"twitter\" />\r\n        </a>\r\n        <a style={{ marginRight: '8px', verticalAlign: 'middle' }} href=\"https://www.facebook.com/Svete-misli-104015637951243\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"Svete misli Facebook\">\r\n          <img src={facebook} alt=\"facebook\" />\r\n        </a>\r\n        <code>{translate('FOOTER_TEXT')} mudroljub(at)gmail.com</code>\r\n      </small>\r\n    </footer>\r\n  )\r\n}\r\n","import React, {useEffect} from 'react'\r\n\r\nimport Header from './header/Header'\r\nimport Sidebar from './sidebar/Sidebar'\r\nimport Router from './Router'\r\nimport Footer from './header/Footer'\r\nimport './app.css'\r\n\r\nconst App = () => {\r\n  useEffect(() => {\r\n    if ('serviceWorker' in navigator)\r\n      navigator.serviceWorker.register('service-worker.js')\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <section className=\"main-section\">\r\n        <Header />\r\n        <Router />\r\n      </section>\r\n      <Sidebar/>\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport './style.css'\r\n\r\nimport {store} from './store'\r\nimport App from './components/App'\r\n\r\nrender(\r\n  <Provider store={store}>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </Provider>, document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}